# Apache Tomcat

Tomcat runs on port 8080 by default. It has a manager page at `http://[ip]:8080/manager/html/` that we can use to exploit. The manager page uses a basic HTTP authentication and could have the following default credntials ([found here](https://github.com/netbiosX/Default-Credentials/blob/master/Apache-Tomcat-Default-Passwords.mdown)): 

|Username     |Password  |
|-------------|----------|
|admin        |password  |
|admin        |<blank>   |
|admin        |Password1 |
|admin        |password1 |
|admin        |admin     |
|admin        |tomcat    |
|both         |tomcat    |
|manager      |manager   |
|role1        |role1     |
|role1        |tomcat    |
|role         |changethis|
|root         |Password1 |
|root         |changethis|
|root         |password  |
|root         |password1 |
|root         |r00t      |
|root         |root      |
|root         |toor      |
|tomcat       |tomcat    |
|tomcat       |s3cret    |
|tomcat       |password1 |
|tomcat       |password  |
|tomcat       |<blank>   |
|tomcat       |admin     |
|tomcat       |changethis|


Once logged in, the tomcat manager page has a place to upload a WAR File. 
![tom](https://user-images.githubusercontent.com/39619599/119208501-69427a80-ba70-11eb-80e2-dfe996720b09.png)


To open up a reverse TCP connection, we can 
* find a web shell in WAR format (with msfvenom, or open source), or
* use metasploit module `exploit/multi/http/tomcat_mgr_upload` 

[More on both approach](https://www.hackingarticles.in/multiple-ways-to-exploit-tomcat-manager/)

### Where are the credentials configured? 
Once gaining access to a shell, we can find the credencials in `conf/tomcat-users.xml`
