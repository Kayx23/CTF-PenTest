# Firewall/IDS Evasion
1. Fragmentation
2. Decoys
3. Timing + randomize target host order
4. Source Ports
5. MAC spoofing

For more, see [here](https://nmap.org/book/man-bypass-firewalls-ids.html)

### Fragmentation
Note that most modern IDS has the ability to reconstruct fragments. 

This option cannot be used with `-sT` or `-sV`
```
$ nmap -sS -f <ip-address>
```
* wireshark would show the packets as fragmented IP packets, except for the last one, which is shown as a regular SYN packer. This is because the "more fragments" flag in the packet is set up 1. 

### Decoys
This option cannot be used with `-sT` or `-sV`
```
$ nmap -sS -D <ip1>,<ip2>,<ip3>,ME,<ip5> <target-ip>
```

### Source Ports
This is useful to get around static firewall rules
```
$ nmap -sS -D <ip1>,<ip12,<ip3>,ME,<ip5> <target-ip>
```
> Setting the source port also doesn't work for OS detection, because Nmap must use different port numbers for certain OS detection tests to work properly.